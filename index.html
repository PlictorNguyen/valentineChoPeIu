<!doctype html>
<html lang="vi">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Valentine c·ªßa t·ª•i m√¨nh üíò</title>
    <style>
         :root {
            --bg1: #0b1020;
            --bg2: #1a0b2e;
            --pink: #ff4d8d;
            --rose: #ff7ab6;
            --glow: 0 0 20px rgba(255, 77, 141, .35), 0 0 60px rgba(255, 122, 182, .18);
            --card: rgba(255, 255, 255, .08);
            --card2: rgba(255, 255, 255, .12);
            --text: rgba(255, 255, 255, .92);
            --muted: rgba(255, 255, 255, .7);
        }
        
        * {
            box-sizing: border-box
        }
        
        html,
        body {
            height: 100%
        }
        
        body {
            margin: 0;
            font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
            color: var(--text);
            background: radial-gradient(1200px 800px at 20% 20%, rgba(255, 77, 141, .18), transparent 55%), radial-gradient(900px 700px at 80% 30%, rgba(255, 122, 182, .14), transparent 55%), linear-gradient(160deg, var(--bg1), var(--bg2));
            overflow-x: hidden;
        }
        /* stars */
        
        .stars,
        .stars:before,
        .stars:after {
            content: "";
            position: fixed;
            inset: 0;
            background-image: radial-gradient(1px 1px at 10% 20%, rgba(255, 255, 255, .8), transparent 60%), radial-gradient(1px 1px at 30% 80%, rgba(255, 255, 255, .8), transparent 60%), radial-gradient(1px 1px at 50% 40%, rgba(255, 255, 255, .8), transparent 60%), radial-gradient(1px 1px at 70% 70%, rgba(255, 255, 255, .8), transparent 60%), radial-gradient(1px 1px at 90% 30%, rgba(255, 255, 255, .8), transparent 60%), radial-gradient(1px 1px at 25% 35%, rgba(255, 255, 255, .6), transparent 60%), radial-gradient(1px 1px at 85% 85%, rgba(255, 255, 255, .6), transparent 60%);
            opacity: .35;
            pointer-events: none;
            animation: twinkle 6s ease-in-out infinite alternate;
        }
        
        .stars:before {
            opacity: .25;
            filter: blur(.2px);
            animation-duration: 9s;
        }
        
        .stars:after {
            opacity: .18;
            filter: blur(.4px);
            animation-duration: 12s;
        }
        
        @keyframes twinkle {
            from {
                transform: translateY(0);
                opacity: .25
            }
            to {
                transform: translateY(-6px);
                opacity: .42
            }
        }
        
        .wrap {
            min-height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 28px
        }
        
        .container {
            width: min(1040px, 100%);
            display: grid;
            grid-template-columns: 1.1fr .9fr;
            gap: 22px;
        }
        
        @media (max-width: 920px) {
            .container {
                grid-template-columns: 1fr;
            }
        }
        
        .card {
            background: linear-gradient(180deg, var(--card), transparent 80%), rgba(255, 255, 255, .06);
            border: 1px solid rgba(255, 255, 255, .12);
            border-radius: 22px;
            box-shadow: 0 25px 60px rgba(0, 0, 0, .35);
            backdrop-filter: blur(12px);
            overflow: hidden;
            position: relative;
        }
        
        .card::before {
            content: "";
            position: absolute;
            inset: -2px;
            background: radial-gradient(700px 220px at 10% 0%, rgba(255, 77, 141, .22), transparent 55%), radial-gradient(520px 240px at 90% 20%, rgba(255, 122, 182, .18), transparent 55%);
            opacity: .7;
            pointer-events: none;
        }
        /* left hero */
        
        .hero {
            padding: 28px 28px 22px;
        }
        
        .tag {
            display: inline-flex;
            gap: 10px;
            align-items: center;
            background: rgba(255, 77, 141, .14);
            border: 1px solid rgba(255, 77, 141, .28);
            padding: 8px 12px;
            border-radius: 999px;
            color: var(--muted);
            font-size: 13px;
            letter-spacing: .2px;
            box-shadow: var(--glow);
        }
        
        .tag .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--pink);
            box-shadow: 0 0 12px rgba(255, 77, 141, .7);
        }
        
        h1 {
            margin: 16px 0 6px;
            font-size: clamp(34px, 4.2vw, 56px);
            line-height: 1.05;
            letter-spacing: -.6px;
        }
        
        h1 .grad {
            background: linear-gradient(90deg, #fff, #ffd1e3 35%, #ff6aa7 75%, #fff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 40px rgba(255, 77, 141, .15);
        }
        
        .sub {
            margin: 10px 0 18px;
            color: var(--muted);
            font-size: 15.5px;
            line-height: 1.6;
            max-width: 62ch;
        }
        
        .actions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 12px;
        }
        
        button {
            border: 0;
            border-radius: 14px;
            padding: 12px 14px;
            color: var(--text);
            font-weight: 650;
            cursor: pointer;
            transition: transform .08s ease, filter .2s ease, background .2s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            user-select: none;
        }
        
        button:active {
            transform: scale(.98);
        }
        
        .btn-primary {
            background: linear-gradient(90deg, rgba(255, 77, 141, .92), rgba(255, 122, 182, .92));
            box-shadow: var(--glow);
        }
        
        .btn-ghost {
            background: rgba(255, 255, 255, .08);
            border: 1px solid rgba(255, 255, 255, .14);
        }
        
        .btn-ghost:hover {
            background: rgba(255, 255, 255, .11);
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 12px;
            margin-top: 18px;
        }
        
        @media (max-width:520px) {
            .grid {
                grid-template-columns: 1fr
            }
        }
        
        .mini {
            padding: 14px;
            border-radius: 18px;
            background: rgba(255, 255, 255, .07);
            border: 1px solid rgba(255, 255, 255, .12);
        }
        
        .mini .k {
            font-size: 12px;
            color: var(--muted);
        }
        
        .mini .v {
            font-size: 18px;
            margin-top: 6px;
            font-weight: 750;
        }
        
        .mini .v small {
            font-weight: 650;
            color: var(--muted);
        }
        /* right */
        
        .side {
            padding: 16px;
        }
        
        .photo {
            width: 100%;
            aspect-ratio: 4/3;
            border-radius: 18px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, .14);
            background: radial-gradient(420px 260px at 20% 20%, rgba(255, 77, 141, .25), transparent 60%), radial-gradient(420px 260px at 80% 30%, rgba(255, 122, 182, .18), transparent 60%), rgba(255, 255, 255, .06);
            position: relative;
        }
        
        .photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: .92;
            transform: scale(1.02);
            filter: saturate(1.05) contrast(1.02);
        }
        
        .photo .overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, transparent, rgba(0, 0, 0, .25));
            pointer-events: none;
        }
        
        .note {
            margin-top: 12px;
            padding: 14px;
            border-radius: 18px;
            border: 1px solid rgba(255, 255, 255, .14);
            background: rgba(255, 255, 255, .07);
        }
        
        .note h3 {
            margin: 0 0 8px;
            font-size: 16px;
        }
        
        .note p {
            margin: 0;
            color: var(--muted);
            line-height: 1.65;
            font-size: 14.5px;
        }
        
        .footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
            margin-top: 12px;
            padding: 12px 14px;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, .12);
            background: rgba(0, 0, 0, .18);
            color: var(--muted);
            font-size: 12.5px;
        }
        /* modal */
        
        .modal {
            position: fixed;
            inset: 0;
            display: none;
            place-items: center;
            padding: 20px;
            background: rgba(0, 0, 0, .55);
            backdrop-filter: blur(8px);
            z-index: 50;
        }
        
        .modal.open {
            display: grid;
        }
        
        .modal .box {
            width: min(720px, 100%);
            border-radius: 22px;
            padding: 18px;
            background: rgba(20, 14, 34, .72);
            border: 1px solid rgba(255, 255, 255, .14);
            box-shadow: 0 30px 90px rgba(0, 0, 0, .55);
            position: relative;
            overflow: hidden;
        }
        
        .modal .box::before {
            content: "";
            position: absolute;
            inset: -3px;
            background: radial-gradient(700px 280px at 10% 0%, rgba(255, 77, 141, .28), transparent 60%), radial-gradient(600px 260px at 90% 20%, rgba(255, 122, 182, .22), transparent 60%);
            opacity: .65;
            pointer-events: none;
        }
        
        .modal .content {
            position: relative;
        }
        
        .modal h2 {
            margin: 0 0 10px;
            font-size: 26px;
            letter-spacing: -.3px;
        }
        
        .modal .letter {
            background: rgba(255, 255, 255, .07);
            border: 1px solid rgba(255, 255, 255, .12);
            border-radius: 18px;
            padding: 14px;
            color: rgba(255, 255, 255, .86);
            line-height: 1.8;
            font-size: 15px;
            white-space: pre-wrap;
        }
        
        .modal .x {
            position: absolute;
            right: 12px;
            top: 12px;
            width: 42px;
            height: 42px;
            border-radius: 14px;
            background: rgba(255, 255, 255, .08);
            border: 1px solid rgba(255, 255, 255, .14);
            color: var(--text);
            cursor: pointer;
        }
        /* floating hearts */
        
        .heart {
            position: fixed;
            left: var(--x);
            top: 110%;
            width: var(--s);
            height: var(--s);
            transform: translate(-50%, 0) rotate(45deg);
            background: rgba(255, 77, 141, .9);
            border-radius: 8px;
            filter: drop-shadow(0 10px 18px rgba(255, 77, 141, .25));
            opacity: .0;
            pointer-events: none;
            z-index: 5;
            animation: floatUp var(--d) linear forwards;
        }
        
        .heart::before,
        .heart::after {
            content: "";
            position: absolute;
            width: 100%;
            height: 100%;
            background: inherit;
            border-radius: 50%;
        }
        
        .heart::before {
            left: -50%;
        }
        
        .heart::after {
            top: -50%;
        }
        
        @keyframes floatUp {
            0% {
                opacity: 0;
                transform: translate(-50%, 0) rotate(45deg) scale(.85);
            }
            10% {
                opacity: .85;
            }
            100% {
                opacity: 0;
                transform: translate(calc(-50% + var(--drift)), -140vh) rotate(45deg) scale(1.15);
            }
        }
        /* confetti burst */
        
        .pop {
            position: fixed;
            left: var(--px);
            top: var(--py);
            width: 10px;
            height: 10px;
            border-radius: 999px;
            background: rgba(255, 255, 255, .9);
            pointer-events: none;
            z-index: 60;
            animation: pop 900ms ease-out forwards;
        }
        
        @keyframes pop {
            from {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            to {
                transform: translate(var(--vx), var(--vy)) scale(.6);
                opacity: 0;
            }
        }
        /* small badge */
        
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 12px;
            border-radius: 16px;
            background: rgba(255, 255, 255, .07);
            border: 1px solid rgba(255, 255, 255, .12);
            color: var(--muted);
            font-size: 13px;
            margin-top: 10px;
        }
        
        .pulse {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--pink);
            box-shadow: 0 0 0 0 rgba(255, 77, 141, .55);
            animation: pulse 1.6s infinite;
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(255, 77, 141, .55);
            }
            70% {
                box-shadow: 0 0 0 14px rgba(255, 77, 141, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(255, 77, 141, 0);
            }
        }
        
        a {
            color: inherit
        }
    </style>
</head>

<body>
    <div class="stars"></div>

    <div class="wrap">
        <div class="container">
            <!-- LEFT -->
            <section class="card hero">
                <div class="tag"><span class="dot"></span><span id="tagLine">Valentine 2026 ‚Ä¢ Made with love</span></div>

                <h1>
                    <span class="grad" id="headline">G·ª≠i <span id="toName">B√© Y√™u</span> üíò</span><br/>
                    <span style="opacity:.92">m·ªôt v≈© tr·ª• d·ªÖ th∆∞∆°ng d√†nh ri√™ng cho t·ª•i m√¨nh</span>
                </h1>

                <p class="sub" id="subtext">
                    Anh/Em c√≥ m·ªôt b√≠ m·∫≠t: m·ªói l·∫ßn em/anh c∆∞·ªùi l√† tim anh/em ‚Äúƒë∆°‚Äù 0.5s r·ªìi m·ªõi ƒë·∫≠p l·∫°i üò≥ Trang n√†y l√† m√≥n qu√† nh·ªè, nh∆∞ng t√¨nh c·∫£m th√¨ to b·ª± nha.
                </p>

                <div class="actions">
                    <button class="btn-primary" id="btnOpen">üíå M·ªü th∆∞ t√¨nh</button>
                    <button class="btn-ghost" id="btnYes">üíç ƒê·ªìng √Ω y√™u th√™m 10000 nƒÉm</button>
                    <button class="btn-ghost" id="btnHearts">üíñ Th·∫£ tim tr·ªùi r∆°i</button>
                    <button class="btn-ghost" id="btnCopy">üìé Copy link l·ªùi nh·∫Øn</button>
                </div>

                <div class="badge">
                    <span class="pulse"></span>
                    <span id="countdown">ƒê·∫øm ng∆∞·ª£c ƒë·∫øn Valentine‚Ä¶</span>
                </div>

                <div class="grid">
                    <div class="mini">
                        <div class="k">Ng√†y t·ª•i m√¨nh b·∫Øt ƒë·∫ßu</div>
                        <div class="v" id="since">22/02/2024 <small>(t√πy b·∫°n s·ª≠a)</small></div>
                    </div>
                    <div class="mini">
                        <div class="k">S·ªë ng√†y ƒë√£ y√™u</div>
                        <div class="v"><span id="days">0</span> <small>ng√†y</small></div>
                    </div>
                    <div class="mini">
                        <div class="k">ƒêi·ªÅu anh th√≠ch ·ªü em</div>
                        <div class="v" id="fav">‚ÄúN·ª• c∆∞·ªùi + s·ª± "d·ªãu d√†ng"‚Äù</div>
                    </div>
                    <div class="mini">
                        <div class="k">L·ªùi h·ª©a nh·ªè</div>
                        <div class="v" id="promise">‚ÄúM√£i iu emmm‚Äù</div>
                    </div>
                </div>
            </section>

            <!-- RIGHT -->
            <aside class="card side">
                <div class="photo">
                    <!-- ƒê·ªîI ·∫¢NH ·ªû ƒê√ÇY: thay src th√†nh ·∫£nh c·ªßa 2 b·∫°n -->
                    <img id="photoImg" src="../img/emiu.jpg" alt="·∫¢nh t·ª•i m√¨nh" />
                    <div class="overlay"></div>
                </div>

                <div class="note">
                    <h3>üåô L·ªùi nh·∫Øn nhanh</h3>
                    <p id="quickNote">
                        N·∫øu h√¥m nay c√≥ h∆°i m·ªát th√¨ d·ª±a v√†o anh m·ªôt ch√∫t nha. C√≤n n·∫øu h√¥m nay vui th√¨‚Ä¶ m√¨nh vui chung g·∫•p ƒë√¥i.
                    </p>
                </div>

                <div class="footer">
                    <span>‚ú® Tip: b·∫•m ‚Äúƒê·ªìng √Ω y√™u th√™m‚Ä¶‚Äù ƒë·ªÉ c√≥ hi·ªáu ·ª©ng b·∫•t ng·ªù</span>
                    <span>¬© <span id="fromName">Ng∆∞·ªùi th∆∞∆°ng</span></span>
                </div>
            </aside>
        </div>
    </div>

    <!-- MODAL -->
    <div class="modal" id="modal">
        <div class="box">
            <button class="x" id="btnClose" aria-label="Close">‚úï</button>
            <div class="content">
                <h2>üíå Th∆∞ g·ª≠i <span id="letterTo">B√© Y√™u</span></h2>
                <div class="letter" id="letter">
                    Em √†, Anh mu·ªën n√≥i r·∫±ng anh r·∫•t bi·∫øt ∆°n v√¨ em ƒë√£ xu·∫•t hi·ªán trong cu·ªôc ƒë·ªùi anh. M√¨nh kh√¥ng c·∫ßn ng√†y n√†o c≈©ng ho√†n h·∫£o, ch·ªâ c·∫ßn c√≥ nhau l√† ƒë·ªß ‚Äúƒë√∫ng‚Äù. Valentine n√†y, anh ch·ªâ xin 1 ƒëi·ªÅu: Cho anh ƒë∆∞·ª£c th∆∞∆°ng em l√¢u th·∫≠t l√¢u. Y√™u em.
                </div>
            </div>
        </div>
    </div>

    <script>
        // ====== B·∫†N CH·ªà C·∫¶N S·ª¨A M·∫§Y D√íNG N√ÄY ======
        const CONFIG = {
            toName: "B√© Y√™u",
            fromName: "Ph√∫c",
            startDate: "2024-02-22", // ng√†y b·∫Øt ƒë·∫ßu y√™u (YYYY-MM-DD)
            favorite: "‚ÄúN·ª• c∆∞·ªùi + s·ª± 'd·ªãu d√†ng'‚Äù",
            promise: "‚ÄúM√£i iu emmm‚Äù",
            quickNote: "D√π b·∫≠n ƒë·∫øn ƒë√¢u, ph·∫£i nh·ªõ ƒÉn u·ªëng ƒë·∫ßy ƒë·ªß v√† ng·ªß s·ªõm nha p√©. Anh lu√¥n ·ªü ƒë√¢y v√¨ em.",
            subtext: "Anh c√≥ m·ªôt b√≠ m·∫≠t: m·ªói l·∫ßn em c∆∞·ªùi l√† tim anh ‚Äúƒë∆°‚Äù 0.5s r·ªìi m·ªõi ƒë·∫≠p l·∫°i üò≥\nTrang n√†y l√† m√≥n qu√† nh·ªè, nh∆∞ng t√¨nh c·∫£m th√¨ to b·ª± nha.",
            letter: `P√© iu oi,

Anh mu·ªën n√≥i l√† anh th·∫≠t s·ª± r·∫•t th∆∞∆°ng emm v√† anh r·∫•t vui v√¨ em ƒë√£ xu·∫•t hi·ªán v√† ƒë·ªìng h√†nh c√πng anh.

Tuy r·∫±ng ƒë√¥i l√∫c ch√∫ng ta hay c√£i nhau, hmmm ch·ªâ v√¨ hong ai hi·ªÉu ai. Anh bi·∫øt l√† khi y√™u xa th√¨ m√¨nh c·∫ßn ph·∫£i c·ªë g·∫Øng khi·∫øn anh th·∫•y th·ªùi gian b√™n nhau th·∫≠t xa x·ªâ anh ch·ªâ mu·ªën nh·ªØng l√∫c n√†y tr√¥i ch·∫≠m l·∫°i ƒë·ªÉ anh ƒë∆∞·ª£c b√™n em.

Nh∆∞ng em bi·∫øt hong anh ch∆∞a t·ª´ng gh√©t b·ªè em hay g√¨ h·∫øt, nh·ªØng l·∫ßn gi·∫≠n d·ªói c≈©ng v√¨ anh lo cho em n√™n anh m·ªõi la em :((( anh hong m√∫n l√†m em bu·ªìn anh xin l·ªói nhaa, nh·ªØng l√∫c anh im l·∫∑ng c≈©ng l√† l√∫c anh bu·ªìn( bu·ªìn th·∫≠t s·ª±), bu·ªìn v√¨ ngta hong hi·ªÉu m√¨nh, bu·ªìn v√¨ nh·ªØng l·ªùi em v√† anh n√≥i trong l√∫c c√£i nhau, anh s·∫Ω c·ªë g·∫Øng th·∫•u hi·ªÉu em h∆°n.

Anh kh√¥ng h·ª©a s·∫Ω kh√¥ng bao gi·ªù khi·∫øn em bu·ªìn n·ªØa ‚Äì v√¨ anh c≈©ng ch·ªâ l√† m·ªôt ng∆∞·ªùi ƒëang h·ªçc c√°ch y√™u, ƒëang t·∫≠p c√°ch l·∫Øng nghe. Nh∆∞ng anh h·ª©a s·∫Ω lu√¥n c·ªë g·∫Øng. C·ªë g·∫Øng ƒë·ªÉ tin t∆∞·ªüng h∆°n, ƒë·ªÉ n√≥i ra nh·ªØng ƒëi·ªÅu trong l√≤ng thay v√¨ gi·ªØ k√≠n, v√† ƒë·ªÉ nh·ªõ r·∫±ng, sau t·∫•t c·∫£, ƒëi·ªÅu anh mu·ªën nh·∫•t v·∫´n l√† th·∫•y em c∆∞·ªùi.

Valentine n√†y, anh ch·ªâ xin 1 ƒëi·ªÅu:
Cho anh ƒë∆∞·ª£c th∆∞∆°ng em l√¢u th·∫≠t l√¢u.

Y√™u em.`
        };
        // ========================================

        const $ = (s) => document.querySelector(s);
        const toNameEl = $("#toName");
        const fromNameEl = $("#fromName");
        const sinceEl = $("#since");
        const daysEl = $("#days");
        const favEl = $("#fav");
        const promiseEl = $("#promise");
        const quickNoteEl = $("#quickNote");
        const subtextEl = $("#subtext");
        const letterEl = $("#letter");
        const letterToEl = $("#letterTo");
        const countdownEl = $("#countdown");
        const headlineEl = $("#headline");

        function pad(n) {
            return String(n).padStart(2, "0");
        }

        function formatVN(d) {
            return `${pad(d.getDate())}/${pad(d.getMonth()+1)}/${d.getFullYear()}`;
        }

        function applyConfig() {
            toNameEl.textContent = CONFIG.toName;
            fromNameEl.textContent = CONFIG.fromName;
            favEl.textContent = CONFIG.favorite;
            promiseEl.textContent = CONFIG.promise;
            quickNoteEl.textContent = CONFIG.quickNote;
            subtextEl.textContent = CONFIG.subtext;
            letterEl.textContent = CONFIG.letter;
            letterToEl.textContent = CONFIG.toName;
            headlineEl.innerHTML = `G·ª≠i <span id="toName">${CONFIG.toName}</span> üíò`;
            // since display
            const start = new Date(CONFIG.startDate + "T00:00:00");
            sinceEl.textContent = formatVN(start);
        }

        function calcDays() {
            const start = new Date(CONFIG.startDate + "T00:00:00");
            const now = new Date();
            const diff = now - start;
            const day = Math.max(0, Math.floor(diff / (1000 * 60 * 60 * 24)));
            daysEl.textContent = day.toLocaleString("vi-VN");
        }

        function nextValentine() {
            const now = new Date();
            const year = now.getFullYear();
            const vThis = new Date(year + "-02-14T00:00:00");
            const vNext = (now <= vThis) ? vThis : new Date((year + 1) + "-02-14T00:00:00");
            return vNext;
        }

        function tickCountdown() {
            const now = new Date();
            const v = nextValentine();
            const ms = v - now;
            const total = Math.max(0, ms);
            const s = Math.floor(total / 1000);
            const d = Math.floor(s / 86400);
            const h = Math.floor((s % 86400) / 3600);
            const m = Math.floor((s % 3600) / 60);
            countdownEl.textContent =
                (ms >= 0) ?
                `ƒê·∫øm ng∆∞·ª£c ƒë·∫øn Valentine: ${d} ng√†y ${h} gi·ªù ${m} ph√∫t` :
                `Happy Valentine üíò`;
        }

        function spawnHeart(intensity = 12) {
            for (let i = 0; i < intensity; i++) {
                const h = document.createElement("div");
                h.className = "heart";
                const x = Math.random() * 100;
                const size = 10 + Math.random() * 18;
                const dur = 3.2 + Math.random() * 2.6;
                const drift = (Math.random() * 140 - 70) + "px";
                h.style.setProperty("--x", x + "vw");
                h.style.setProperty("--s", size + "px");
                h.style.setProperty("--d", dur + "s");
                h.style.setProperty("--drift", drift);

                // random shade
                const shade = 75 + Math.random() * 25;
                h.style.background = `hsla(340, 100%, ${shade}%, .92)`;

                document.body.appendChild(h);
                setTimeout(() => h.remove(), dur * 1000 + 200);
            }
        }

        function confettiBurst(cx, cy, pieces = 22) {
            for (let i = 0; i < pieces; i++) {
                const p = document.createElement("div");
                p.className = "pop";
                p.style.setProperty("--px", cx + "px");
                p.style.setProperty("--py", cy + "px");
                const angle = Math.random() * Math.PI * 2;
                const dist = 40 + Math.random() * 120;
                const vx = Math.cos(angle) * dist;
                const vy = Math.sin(angle) * dist;
                p.style.setProperty("--vx", vx + "px");
                p.style.setProperty("--vy", vy + "px");
                p.style.background = `hsla(${Math.random()*360}, 90%, 70%, .95)`;
                document.body.appendChild(p);
                setTimeout(() => p.remove(), 950);
            }
        }

        // modal
        const modal = $("#modal");
        $("#btnOpen").addEventListener("click", () => {
            modal.classList.add("open");
            spawnHeart(18);
        });
        $("#btnClose").addEventListener("click", () => modal.classList.remove("open"));
        modal.addEventListener("click", (e) => {
            if (e.target === modal) modal.classList.remove("open");
        });

        // buttons
        $("#btnHearts").addEventListener("click", () => spawnHeart(26));

        $("#btnYes").addEventListener("click", (e) => {
            const rect = e.currentTarget.getBoundingClientRect();
            const cx = rect.left + rect.width / 2;
            const cy = rect.top + rect.height / 2;
            confettiBurst(cx, cy, 32);
            spawnHeart(36);

            // cute popup text
            const msg = document.createElement("div");
            msg.style.position = "fixed";
            msg.style.left = cx + "px";
            msg.style.top = (cy - 18) + "px";
            msg.style.transform = "translate(-50%,-50%)";
            msg.style.padding = "10px 12px";
            msg.style.borderRadius = "14px";
            msg.style.background = "rgba(255,255,255,.10)";
            msg.style.border = "1px solid rgba(255,255,255,.18)";
            msg.style.backdropFilter = "blur(10px)";
            msg.style.boxShadow = "0 20px 60px rgba(0,0,0,.35)";
            msg.style.color = "rgba(255,255,255,.92)";
            msg.style.fontWeight = "750";
            msg.textContent = "Deal! Y√™u th√™m 10000 nƒÉm n·ªØa nha üíçüíò";
            document.body.appendChild(msg);
            setTimeout(() => msg.remove(), 2200);
        });

        $("#btnCopy").addEventListener("click", async() => {
            const text = `G·ª≠i ${CONFIG.toName} üíò\n\n${CONFIG.letter}\n\n‚Äî ${CONFIG.fromName}`;
            try {
                await navigator.clipboard.writeText(text);
                spawnHeart(10);
                alert("ƒê√£ copy l·ªùi nh·∫Øn r·ªìi n√® üíò");
            } catch {
                prompt("Copy th·ªß c√¥ng n√®:", text);
            }
        });

        // click anywhere => small hearts
        window.addEventListener("pointerdown", (e) => {
            if (modal.classList.contains("open")) return;
            const h = document.createElement("div");
            h.className = "heart";
            const size = 12 + Math.random() * 10;
            h.style.setProperty("--x", (e.clientX / window.innerWidth) * 100 + "vw");
            h.style.setProperty("--s", size + "px");
            h.style.setProperty("--d", (2.6 + Math.random() * 1.6) + "s");
            h.style.setProperty("--drift", (Math.random() * 80 - 40) + "px");
            h.style.background = `hsla(340, 100%, ${78+Math.random()*18}%, .92)`;
            document.body.appendChild(h);
            setTimeout(() => h.remove(), 4500);
        });

        // init
        applyConfig();
        calcDays();
        tickCountdown();
        setInterval(() => {
            calcDays();
            tickCountdown();
        }, 1000);

        // soft ambient hearts
        setInterval(() => spawnHeart(4), 1800);
    </script>
</body>

</html>
